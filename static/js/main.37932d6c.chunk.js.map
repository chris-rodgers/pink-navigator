{"version":3,"sources":["components/Button/Button.module.css","components/Button/Button.js","App.js","index.js","styles.module.css","components/Checkbox/Checkbox.module.css"],"names":["module","exports","Button","onClick","children","role","tabIndex","className","styles","button","optionValues","alpha","App","React","useState","questions","state","setState","shouldSubmit","isFinished","setIsFinished","hasSubmitted","setHasSubmitted","useMemo","res","data","meta","color","captions","Object","keys","forEach","section","percentage","values","reduce","prev","curr","newValue","value","sentiment","indexOf","length","console","log","useEffect","body","FormData","questionValues","si","key","i","questionValueKey","append","fetch","method","then","response","catch","error","message","handleSubmit","container","title","subtitle","result","options","captionMargin","captionProps","fontSize","textAnchor","size","map","row","left","right","type","min","max","undefined","onChange","e","newState","Number","target","Math","caption","footer","rootElement","document","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.37932d6c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3QF_k\"};","import React from \"react\";\nimport styles from \"./Button.module.css\";\n\nconst Button = ({ onClick, children }) => {\n    return (<button role=\"button\" tabIndex={0} className={styles.button} onClick={onClick}>{children}</button>)\n}\n\nexport default Button;","import React from \"react\";\nimport RadarChart from \"react-svg-radar-chart\";\nimport \"react-svg-radar-chart/build/css/index.css\";\nimport styles from \"./styles.module.css\";\nimport questions from \"./questions.json\";\nimport Checkbox from \"./components/Checkbox/Checkbox\";\nimport Button from \"./components/Button/Button\";\n\nconst optionValues = {\n  1: \"Strongly Disagree\",\n  2: \"Disagree\",\n  3: \"Neither Agree/ Disagree\",\n  4: \"Agree\",\n  5: \"Strongly Agree\"\n};\n\nconst alpha = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z']\n\nexport default function App() {\n  const [state, setState] = React.useState(questions);\n  const [shouldSubmit, setShouldSubmit] = React.useState(true);\n  const [isFinished, setIsFinished] = React.useState(false);\n  const [hasSubmitted, setHasSubmitted] = React.useState(false);\n\n  const { data, captions } = React.useMemo(() => {\n    const res = {\n      data: {},\n      meta: { color: \"pink\" }\n    };\n    const captions = {};\n    Object.keys(state).forEach((section) => {\n      const total = Object.values(state[section]).reduce((prev, curr) => {\n        // If the question is negative, then should flip e.g 5 => 1, 4 => 2 etc\n        let newValue = curr.value;\n\n        if (curr.sentiment == \"negative\") {\n          newValue = [5, 4, 3, 2, 1].indexOf(newValue) + 1;\n        }\n\n        return prev + newValue;\n      }, 0);\n      const totalPossible = Object.keys(state[section]).length * 5;\n      const percentage = total / totalPossible;\n      res.data[section] = percentage;\n      captions[section] = section;\n    });\n    return { data: [res], captions };\n  }, [state]);\n\n  console.log(data);\n\n  const handleSubmit = () => {\n    const body = new FormData();\n    const questionValues = {};\n    Object.values(state).forEach((section, si) => {\n      Object.keys(section).forEach((key, i) => {\n        const questionValueKey = `${si + 1}${alpha[i]}`\n        body.append(questionValueKey, section[key].value);\n        questionValues[questionValueKey] = `${questionValueKey}. ${key}`;\n      })\n    })\n    console.log(body, questionValues)\n    fetch('https://script.google.com/macros/s/AKfycbzn7uelFFvDkMmP9Dk3UXruYog39DhEpnlC5X4iAOgoGM85jdtiU36LzpWkApavfZhi/exec', { method: 'POST', body })\n      .then(response => { setHasSubmitted(true); console.log('Success!', response) })\n      .catch(error => console.error('Error!', error.message))\n  }\n\n  const handleFinished = () => {\n    setIsFinished(true);\n  }\n\n  React.useEffect(() => {\n    if (isFinished && shouldSubmit && !hasSubmitted) {\n      handleSubmit();\n    }\n  }, [isFinished, shouldSubmit])\n\n  return (\n    <div className={styles.container}>\n      <div className={styles.title}>\n        Life stage measurements for Repetitive paralysis cycle.\n      </div>\n      {!isFinished ? <div>\n        {Object.keys(state).map((section, i) => {\n          const questions = state[section];\n          return (\n            <div key={i} className={styles.section}>\n              <div className={styles.subtitle}>{section}</div>\n              {Object.keys(questions).map((key) => {\n                return (\n                  <div className={styles.row} key={key}>\n                    <div className={styles.left}>{key}</div>\n                    <div className={styles.right}>\n                      <input\n                        type=\"range\"\n                        min={1}\n                        max={5}\n                        value={questions[key]?.value || undefined}\n                        onChange={(e) => {\n                          setState((newState) => {\n                            // console.log(\"change\", e.target.value);\n                            const newValue = Number(e.target.value);\n\n                            newState[section][key].value = Math.min(newValue, 5);\n                            return { ...newState };\n                          });\n                        }}\n                      />\n                      <div className={styles.caption}>{optionValues[questions[key]?.value]}</div>\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          );\n        })}\n\n        <div className={styles.footer}>\n          <Button onClick={handleFinished}>Submit Answers</Button>\n        </div>\n      </div> :\n        <div>\n          <div className={styles.subtitle}>Result</div>\n          <div className={styles.result}>\n            <RadarChart\n              options={{\n                captionMargin: 50,\n                captionProps: () => ({ fontSize: 20, textAnchor: \"middle\" })\n              }}\n              captions={captions}\n              data={data}\n              size={450}\n            />\n          </div>\n        </div>}\n      {/* <div className={styles.footer}>\n        <Checkbox onClick={() => { setShouldSubmit(!shouldSubmit) }} checked={shouldSubmit} label=\"Share answers with Across Rainbows\" />\n      </div> */}\n    </div>\n  );\n}\n","import { StrictMode } from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"pink-navigator-root\");\nReactDOM.render(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n  rootElement\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__d38tt\",\"section\":\"styles_section__2ZWC6\",\"row\":\"styles_row__2TM8m\",\"left\":\"styles_left__lBZpX\",\"right\":\"styles_right__umKcc\",\"result\":\"styles_result__2qXxN\",\"title\":\"styles_title__1o_p0\",\"subtitle\":\"styles_subtitle__2bS6S\",\"caption\":\"styles_caption__5czfL\",\"footer\":\"styles_footer__1Ybc4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Checkbox_container__20jlM\",\"checkbox\":\"Checkbox_checkbox__2DiPf\",\"container--radio\":\"Checkbox_container--radio__6TFdI\",\"checkbox--checked\":\"Checkbox_checkbox--checked__3Lsyo\",\"checkbox--highlighted\":\"Checkbox_checkbox--highlighted__31UzA\",\"price\":\"Checkbox_price__1isc_\"};"],"sourceRoot":""}