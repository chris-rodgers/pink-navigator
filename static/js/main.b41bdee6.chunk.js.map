{"version":3,"sources":["styles.module.css","components/Checkbox/Checkbox.module.css","components/Select/Select.module.css","components/Button/Button.module.css","components/Button/Button.js","components/Select/Select.js","App.js","index.js"],"names":["module","exports","Button","onClick","children","role","tabIndex","className","styles","button","Select","onChange","custom","value","options","container","select","includes","disabled","map","option","placeholder","input","type","optionValues","alpha","App","React","useState","questions","state","setState","shouldSubmit","page","setPage","hasSubmitted","setHasSubmitted","isFinished","personalDetails","personalDetailsState","setPersonalDetailsState","useEffect","document","getElementById","scrollIntoView","useMemo","res","data","meta","color","captions","Object","keys","forEach","section","percentage","values","reduce","prev","curr","newValue","sentiment","indexOf","length","body","FormData","questionValues","key","append","si","i","questionValueKey","fetch","method","then","response","console","log","catch","error","message","handleSubmit","detail","label","htmlFor","title","id","e","prevPersonalDetailsState","nextPersonalDetialsState","target","subtitle","row","left","right","min","max","undefined","newState","Number","Math","caption","chart","captionMargin","captionProps","fontSize","textAnchor","size","results","result","score","toFixed","summary","footer","buttons","rootElement","ReactDOM","render"],"mappings":"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","file":"static/js/main.b41bdee6.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__d38tt\",\"section\":\"styles_section__2ZWC6\",\"row\":\"styles_row__2TM8m\",\"left\":\"styles_left__lBZpX\",\"right\":\"styles_right__umKcc\",\"results-wrapper\":\"styles_results-wrapper__3Pd9M\",\"results\":\"styles_results__1gpto\",\"chart\":\"styles_chart__35gEK\",\"result\":\"styles_result__2qXxN\",\"result-inner\":\"styles_result-inner__1WB8a\",\"subtitle\":\"styles_subtitle__2bS6S\",\"score\":\"styles_score__2sd9f\",\"title\":\"styles_title__1o_p0\",\"caption\":\"styles_caption__5czfL\",\"footer\":\"styles_footer__1Ybc4\",\"buttons\":\"styles_buttons__1b84b\",\"label\":\"styles_label__1uCk8\",\"summary\":\"styles_summary__1Zf-g\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Checkbox_container__20jlM\",\"checkbox\":\"Checkbox_checkbox__2DiPf\",\"container--radio\":\"Checkbox_container--radio__6TFdI\",\"container--disabled\":\"Checkbox_container--disabled__2o6PE\",\"checkbox--checked\":\"Checkbox_checkbox--checked__3Lsyo\",\"checkbox--highlighted\":\"Checkbox_checkbox--highlighted__31UzA\",\"price\":\"Checkbox_price__1isc_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Select_container__1YD_G\",\"select\":\"Select_select__3UVD7\",\"input\":\"Select_input__2uDKD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3QF_k\"};","import React from \"react\";\nimport styles from \"./Button.module.css\";\n\nconst Button = ({ onClick, children }) => {\n    return (<button role=\"button\" tabIndex={0} className={styles.button} onClick={onClick}>{children}</button>)\n}\n\nexport default Button;","import React from \"react\";\nimport styles from \"./Select.module.css\";\n\nconst Select = ({ onChange, custom, value = \"please-select\", options }) => {\n    // console.log(value)\n    return (<div className={styles.container}>\n        <select className={styles.select} onChange={onChange} value={[\"please-select\", ...options].includes(value) ? value : ''}>\n            <option value=\"please-select\" disabled>Please Select</option>\n            {options.map(option => <option value={option}>{option}</option>)}\n            {custom ? <option value=\"\">{custom}</option> : null}\n        </select>\n        {value == \"\" || ![\"please-select\", ...options].includes(value) ? <input placeholder=\"Please enter custom value\" className={styles.input} type=\"text\" value={value} onChange={onChange} /> : null}\n    </div >)\n}\n\nexport default Select;","import React from \"react\";\nimport RadarChart from \"react-svg-radar-chart\";\nimport \"react-svg-radar-chart/build/css/index.css\";\nimport styles from \"./styles.module.css\";\nimport questions from \"./questions.json\";\nimport personalDetails from \"./personal-details.json\"\nimport Checkbox from \"./components/Checkbox/Checkbox\";\nimport Button from \"./components/Button/Button\";\nimport Select from \"./components/Select/Select\";\n\nconst optionValues = {\n  1: \"Strongly Disagree\",\n  2: \"Disagree\",\n  3: \"Neither Agree/ Disagree\",\n  4: \"Agree\",\n  5: \"Strongly Agree\"\n};\n\nconst alpha = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z']\n\nexport default function App() {\n  const [state, setState] = React.useState(questions);\n  const [shouldSubmit, setShouldSubmit] = React.useState(true);\n  const [page, setPage] = React.useState(0);\n  const [hasSubmitted, setHasSubmitted] = React.useState(false);\n  const isFinished = page === 2;\n  const [personalDetailsState, setPersonalDetailsState] = React.useState(personalDetails)\n\n  React.useEffect(() => {\n    document.getElementById('pink-navigator-root').scrollIntoView(true);\n  }, [page])\n\n  const { data, captions } = React.useMemo(() => {\n    const res = {\n      data: {},\n      meta: { color: \"pink\" }\n    };\n    const captions = {};\n    Object.keys(state).forEach((section) => {\n      const total = Object.values(state[section]).reduce((prev, curr) => {\n        // If the question is negative, then should flip e.g 5 => 1, 4 => 2 etc\n        let newValue = curr.value;\n\n        if (curr.sentiment == \"negative\") {\n          newValue = [5, 4, 3, 2, 1].indexOf(newValue) + 1;\n        }\n\n        return prev + newValue;\n      }, 0);\n      const totalPossible = Object.keys(state[section]).length * 5;\n      const percentage = total / totalPossible;\n      res.data[section] = percentage;\n      captions[section] = section;\n    });\n    return { data: [res], captions };\n  }, [state]);\n\n  // console.log(data);\n\n  const handleSubmit = () => {\n    const body = new FormData();\n    const questionValues = {};\n\n    Object.keys(personalDetailsState).forEach((key) => {\n      body.append(key, personalDetailsState[key].value);\n    })\n    // Questions\n    Object.values(state).forEach((section, si) => {\n      Object.keys(section).forEach((key, i) => {\n        const questionValueKey = `${si + 1}${alpha[i]}`\n        body.append(questionValueKey, section[key].value);\n        questionValues[questionValueKey] = `${questionValueKey}. ${key}`;\n      })\n    })\n    // console.log(Object.keys(Object.fromEntries(body)), questionValues)\n    fetch('https://script.google.com/macros/s/AKfycbzn7uelFFvDkMmP9Dk3UXruYog39DhEpnlC5X4iAOgoGM85jdtiU36LzpWkApavfZhi/exec', { method: 'POST', body })\n      .then(response => { setHasSubmitted(true); console.log('Success!', response) })\n      .catch(error => console.error('Error!', error.message))\n  }\n\n  const handlePrev = () => {\n    setPage(page - 1);\n  }\n\n  const handleNext = () => {\n    setPage(page + 1);\n  }\n\n  React.useEffect(() => {\n    if (isFinished && shouldSubmit && !hasSubmitted) {\n      handleSubmit();\n    }\n  }, [isFinished, shouldSubmit]);\n\n  // const shouldShowCheckbox = !isFinished || !shouldSubmit;\n\n  return (\n    <div className={styles.container}>\n      {/* <div className={styles.title}>\n        Life stage measurements for Repetitive paralysis cycle.\n      </div> */}\n      {[\n        <div>\n          {Object.keys(personalDetailsState).map(key => {\n            const detail = personalDetailsState[key];\n            return (<div key={key}>\n              <label className={styles.label} htmlFor={key}>{detail.title}</label>\n              <div><Select id={key} custom={detail.custom} value={detail.value} options={detail.options} onChange={(e) => {\n                setPersonalDetailsState(prevPersonalDetailsState => {\n                  const nextPersonalDetialsState = { ...prevPersonalDetailsState };\n                  nextPersonalDetialsState[key].value = e.target.value;\n                  return nextPersonalDetialsState;\n                })\n              }} />\n              </div>\n            </div>)\n          })}\n        </div>,\n        <div>\n          {Object.keys(state).map((section, i) => {\n            const questions = state[section];\n            return (\n              <div key={i} className={styles.section}>\n                <div className={styles.subtitle}>{section}</div>\n                {Object.keys(questions).map((key) => {\n                  return (\n                    <div className={styles.row} key={key}>\n                      <div className={styles.left}>{key}</div>\n                      <div className={styles.right}>\n                        <input\n                          type=\"range\"\n                          min={1}\n                          max={5}\n                          value={questions[key]?.value || undefined}\n                          onChange={(e) => {\n                            setState((newState) => {\n                              // console.log(\"change\", e.target.value);\n                              const newValue = Number(e.target.value);\n\n                              newState[section][key].value = Math.min(newValue, 5);\n                              return { ...newState };\n                            });\n                          }}\n                        />\n                        <div className={styles.caption}>{optionValues[questions[key]?.value]}</div>\n                      </div>\n                    </div>\n                  );\n                })}\n              </div>\n            );\n          })}\n        </div>,\n        <div>\n          <div className={styles.title}>Result - How did you do?</div>\n          <div className={styles['results-wrapper']}>\n            <div className={styles.chart}>\n              <RadarChart\n                options={{\n                  captionMargin: 50,\n                  captionProps: () => ({ fontSize: 20, textAnchor: \"middle\" })\n                }}\n                captions={captions}\n                data={data}\n                size={450}\n              />\n            </div>\n            <div className={styles.results}>\n              {Object.keys(data[0].data).map(key => {\n                return (<div className={styles.result}>\n                  <div className={styles['result-inner']}>\n                    <div className={styles.subtitle}>{key}</div>\n                    <div className={styles.score}>{(data[0].data[key] * 10).toFixed()}/10</div>\n                  </div>\n                </div>)\n              })}\n            </div>\n            <div className={styles.summary}>\n              <p><strong>If you scored between 0 – 3:</strong> Oh No! You are quite stuck. Your feelings and beliefs about the past are keeping you stuck, and it may be limiting your happiness in the present. When you want to get unstuck and start living a life that you’ll love, you must change your inner world first.</p>\n              <p><strong>If you scored between 4 – 7:</strong> Not bad! but be careful because sometimes it may feel like you are moving and getting somewhere, when, in reality, you are coasting. </p>\n              <p><strong>If you scored between 8 – 10:</strong> Congratulations! You’ve got this. You are doing exceptionally well. </p>\n            </div>\n          </div>\n        </div>][page]}\n      <div className={styles.footer}>\n        <div className={styles.buttons}>\n          {!isFinished && page ? <Button onClick={handlePrev}>← Previous</Button> : null}\n          {!isFinished ? <Button onClick={handleNext}>{['Next', 'Finish'][page]} →</Button> : null}\n        </div>\n        {/* <Checkbox onClick={() => { setShouldSubmit(!shouldSubmit) }} disabled={!shouldShowCheckbox} checked={shouldSubmit} label={shouldShowCheckbox ? \"Record my answers\" : hasSubmitted ? \"We've recorded your answers\" : \"Submitting...\"} /> */}\n      </div>\n    </div >\n  );\n}\n","import { StrictMode } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles.css\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"pink-navigator-root\");\nReactDOM.render(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n  rootElement\n);\n"],"sourceRoot":""}