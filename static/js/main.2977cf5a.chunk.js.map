{"version":3,"sources":["components/Button/Button.module.css","components/Checkbox/Checkbox.js","components/Button/Button.js","App.js","index.js","styles.module.css","components/Checkbox/Checkbox.module.css"],"names":["module","exports","CheckboxIcon","checked","className","classnames","styles","checkbox","xmlns","viewBox","points","Checkbox","onClick","disabled","label","container","undefined","Button","children","role","tabIndex","button","optionValues","alpha","App","React","useState","questions","state","setState","shouldSubmit","setShouldSubmit","isFinished","setIsFinished","hasSubmitted","setHasSubmitted","useMemo","res","data","meta","color","captions","Object","keys","forEach","section","percentage","values","reduce","prev","curr","newValue","value","sentiment","indexOf","length","console","log","useEffect","body","FormData","questionValues","si","key","i","questionValueKey","append","fetch","method","then","response","catch","error","message","handleSubmit","shouldShowCheckbox","title","subtitle","result","options","captionMargin","captionProps","fontSize","textAnchor","size","map","row","left","right","type","min","max","onChange","e","newState","Number","target","Math","caption","footer","rootElement","document","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.2977cf5a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3QF_k\"};","import React from \"react\";\nimport styles from \"./Checkbox.module.css\";\nimport classnames from \"classnames\";\n\nconst Checkbox = ({ checked, onClick, disabled, label }) => {\n    return <div className={classnames(styles.container, styles[`container--checkbox`], { [styles[`container--disabled`]]: disabled })} onClick={disabled ? undefined : onClick}>\n        <CheckboxIcon checked={checked} />\n        {label}\n    </div>\n}\n\nexport const CheckboxIcon = ({ checked }) => {\n    return (<div className={classnames(styles.checkbox, { [styles['checkbox--checked']]: checked })}>\n        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" ><polyline points=\"20 6 9 17 4 12\"></polyline></svg>\n    </div>)\n}\n\nexport default Checkbox;","import React from \"react\";\nimport styles from \"./Button.module.css\";\n\nconst Button = ({ onClick, children }) => {\n    return (<button role=\"button\" tabIndex={0} className={styles.button} onClick={onClick}>{children}</button>)\n}\n\nexport default Button;","import React from \"react\";\nimport RadarChart from \"react-svg-radar-chart\";\nimport \"react-svg-radar-chart/build/css/index.css\";\nimport styles from \"./styles.module.css\";\nimport questions from \"./questions.json\";\nimport Checkbox from \"./components/Checkbox/Checkbox\";\nimport Button from \"./components/Button/Button\";\n\nconst optionValues = {\n  1: \"Strongly Disagree\",\n  2: \"Disagree\",\n  3: \"Neither Agree/ Disagree\",\n  4: \"Agree\",\n  5: \"Strongly Agree\"\n};\n\nconst alpha = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z']\n\nexport default function App() {\n  const [state, setState] = React.useState(questions);\n  const [shouldSubmit, setShouldSubmit] = React.useState(true);\n  const [isFinished, setIsFinished] = React.useState(false);\n  const [hasSubmitted, setHasSubmitted] = React.useState(false);\n\n  const { data, captions } = React.useMemo(() => {\n    const res = {\n      data: {},\n      meta: { color: \"pink\" }\n    };\n    const captions = {};\n    Object.keys(state).forEach((section) => {\n      const total = Object.values(state[section]).reduce((prev, curr) => {\n        // If the question is negative, then should flip e.g 5 => 1, 4 => 2 etc\n        let newValue = curr.value;\n\n        if (curr.sentiment == \"negative\") {\n          newValue = [5, 4, 3, 2, 1].indexOf(newValue) + 1;\n        }\n\n        return prev + newValue;\n      }, 0);\n      const totalPossible = Object.keys(state[section]).length * 5;\n      const percentage = total / totalPossible;\n      res.data[section] = percentage;\n      captions[section] = section;\n    });\n    return { data: [res], captions };\n  }, [state]);\n\n  console.log(data);\n\n  const handleSubmit = () => {\n    const body = new FormData();\n    const questionValues = {};\n    Object.values(state).forEach((section, si) => {\n      Object.keys(section).forEach((key, i) => {\n        const questionValueKey = `${si + 1}${alpha[i]}`\n        body.append(questionValueKey, section[key].value);\n        questionValues[questionValueKey] = `${questionValueKey}. ${key}`;\n      })\n    })\n    console.log(body, questionValues)\n    fetch('https://script.google.com/macros/s/AKfycbzn7uelFFvDkMmP9Dk3UXruYog39DhEpnlC5X4iAOgoGM85jdtiU36LzpWkApavfZhi/exec', { method: 'POST', body })\n      .then(response => { setHasSubmitted(true); console.log('Success!', response) })\n      .catch(error => console.error('Error!', error.message))\n  }\n\n  const handleFinished = () => {\n    setIsFinished(true);\n  }\n\n  React.useEffect(() => {\n    if (isFinished && shouldSubmit && !hasSubmitted) {\n      handleSubmit();\n    }\n  }, [isFinished, shouldSubmit]);\n\n  const shouldShowCheckbox = !isFinished || !shouldSubmit;\n\n  return (\n    <div className={styles.container}>\n      <div className={styles.title}>\n        Life stage measurements for Repetitive paralysis cycle.\n      </div>\n      {!isFinished ? <div>\n        {Object.keys(state).map((section, i) => {\n          const questions = state[section];\n          return (\n            <div key={i} className={styles.section}>\n              <div className={styles.subtitle}>{section}</div>\n              {Object.keys(questions).map((key) => {\n                return (\n                  <div className={styles.row} key={key}>\n                    <div className={styles.left}>{key}</div>\n                    <div className={styles.right}>\n                      <input\n                        type=\"range\"\n                        min={1}\n                        max={5}\n                        value={questions[key]?.value || undefined}\n                        onChange={(e) => {\n                          setState((newState) => {\n                            // console.log(\"change\", e.target.value);\n                            const newValue = Number(e.target.value);\n\n                            newState[section][key].value = Math.min(newValue, 5);\n                            return { ...newState };\n                          });\n                        }}\n                      />\n                      <div className={styles.caption}>{optionValues[questions[key]?.value]}</div>\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          );\n        })}\n\n        <div className={styles.footer}>\n          <Button onClick={handleFinished}>Submit Answers</Button>\n        </div>\n      </div> :\n        <div>\n          <div className={styles.subtitle}>Result</div>\n          <div className={styles.result}>\n            <RadarChart\n              options={{\n                captionMargin: 50,\n                captionProps: () => ({ fontSize: 20, textAnchor: \"middle\" })\n              }}\n              captions={captions}\n              data={data}\n              size={450}\n            />\n          </div>\n        </div>}\n      <div className={styles.footer}>\n        <Checkbox onClick={() => { setShouldSubmit(!shouldSubmit) }} disabled={!shouldShowCheckbox} checked={shouldSubmit} label={shouldShowCheckbox ? \"Record my answers\" : hasSubmitted ? \"We've recorded your answers\" : \"Submitting...\"} />\n      </div>\n    </div >\n  );\n}\n","import { StrictMode } from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"pink-navigator-root\");\nReactDOM.render(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n  rootElement\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__d38tt\",\"section\":\"styles_section__2ZWC6\",\"row\":\"styles_row__2TM8m\",\"left\":\"styles_left__lBZpX\",\"right\":\"styles_right__umKcc\",\"result\":\"styles_result__2qXxN\",\"title\":\"styles_title__1o_p0\",\"subtitle\":\"styles_subtitle__2bS6S\",\"caption\":\"styles_caption__5czfL\",\"footer\":\"styles_footer__1Ybc4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Checkbox_container__20jlM\",\"checkbox\":\"Checkbox_checkbox__2DiPf\",\"container--radio\":\"Checkbox_container--radio__6TFdI\",\"container--disabled\":\"Checkbox_container--disabled__2o6PE\",\"checkbox--checked\":\"Checkbox_checkbox--checked__3Lsyo\",\"checkbox--highlighted\":\"Checkbox_checkbox--highlighted__31UzA\",\"price\":\"Checkbox_price__1isc_\"};"],"sourceRoot":""}